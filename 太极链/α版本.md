# 太极链项目理想架构-α版本

## 目录
<!-- TOC -->

- [太极链项目理想架构-α版本](#太极链项目理想架构-α版本)
  - [目录](#目录)
  - [α版本](#α版本)
    - [后台架构](#后台架构)
      - [项目框架](#项目框架)
      - [项目分层](#项目分层)
        - [数据库](#数据库)
        - [数据库操作层（注：也可整合到处理层中）](#数据库操作层注也可整合到处理层中)
        - [处理层](#处理层)
        - [接口层](#接口层)
      - [解决方案](#解决方案)
        - [项目安全](#项目安全)
        - [SWTC LIB 连接操作](#swtc-lib-连接操作)
        - [后台权限](#后台权限)
        - [定时任务](#定时任务)
        - [数据备份](#数据备份)
        - [业务组件](#业务组件)
        - [数据表内结构更换](#数据表内结构更换)
        - [项目部署和监控-（进行调研和继续完善，取现版本最佳方案）](#项目部署和监控-进行调研和继续完善取现版本最佳方案)
        - [分布式和负载均衡](#分布式和负载均衡)
        - [报表统计](#报表统计)
        - [操作日志](#操作日志)
    - [前台架构](#前台架构)
        - [官网](#官网)
        - [管理后台](#管理后台)
        - [APP（Android）](#appandroid)
        - [IOS](#ios)
        - [小程序（可选）](#小程序可选)
        - [公众号网页（可选）](#公众号网页可选)

<!-- /TOC -->


## α版本

### 后台架构

#### 项目框架

- [Eggjs](https://eggjs.org/zh-cn/) 阿里云NodeJS服务架构体系
- [宝塔Linux](https://m.bt.cn/download/linux.html) 可以监控的Linux服务器面板

#### 项目分层

##### 数据库

- MongoDB(可选) 做定时的报表分析存储，等其他

##### 数据库操作层（注：也可整合到处理层中）

- 继续完善

##### 处理层

- 继续完善

##### 接口层

- 继续完善

#### 解决方案

##### 项目安全

1. 接入 OAuth2.0 进行三方认证（可选）
2. 继续完善

##### SWTC LIB 连接操作

1. 继续完善，更新

##### 后台权限

1. 进行权限分级，角色判断。6-8个不同角色（如行政，审计，游客等

##### 定时任务

1. 数据库表中设计定时任务执行的日志（如有必要，做定时任务锁）

##### 数据备份

1. Redis 先手动备份，自动备份后期研究
2. Mongodb 先手动备份，自动备份后期研究

##### 业务组件

1. 业务抽离成组件，方便其他项目的集成（可选）

##### 数据表内结构更换

1. 使用自动化版本库工具进行管理（后期可选）

##### 项目部署和监控-（进行调研和继续完善，取现版本最佳方案）

1. 使用EggJS 内部命令进行部署和down机重启（首选，需要调研）
2. 使用PM2 进行部署和down机重启（老版本使用办法，新版本是否可行需要调研）
3. 使用阿里云NodeJS性能平台进行项目的监控

##### 分布式和负载均衡

1. 原生支持分布式（实现办法需要调研，在数据量到达需要分布式的时候）

##### 报表统计

1. 定时任务分析数据到MongoDB中（或者MySql Json字段），可适用，日、周、月、年统计

##### 操作日志

1. 继续完善

### 前台架构

##### 官网

- 可选VUE相关架构，做展示使用
- 可选React相关架构，做展示使用
- 可以Jquery+原生相关架构，做展示使用

##### 管理后台

- 可选 [Ant Design](https://ant.design/index-cn) 适配手机端。（React）
- 可以 [Vue Admin](https://panjiachen.github.io/vue-element-admin/) 适配手机端。（Vue）

##### APP（Android）

- 原生或者 [ReactNative](https://reactnative.cn/),(Vue跨平台框架需要调研)

##### IOS

- 原生或者 [ReactNative](https://reactnative.cn/),(Vue跨平台框架需要调研)

##### 小程序（可选）

- [Taro](https://taro.aotu.io/),一处代码转网页和小程序

##### 公众号网页（可选）

- [Taro](https://taro.aotu.io/),一处代码转网页和小程序